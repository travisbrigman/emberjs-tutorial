{{page-title 'Cart'}}
<main class='container mt-5'>
  <h1>Shopping Cart</h1>
  <ol class='breadcrumb'>
    <li class='breadcrumb-item'><LinkTo @route='index'>
        Home
      </LinkTo></li>
    <li class='breadcrumb-item'>Shopping Cart</li>
  </ol>

  {{#each this.cart.itemList as |item|}}
    <div class='cart-item d-flex align-items-center'>
      <div class='cart-item-thumbnail'>
        <img src={{item.image}} alt='' />
      </div>
      <div class='ml-3'>
        <h4 data-test-item-name>{{item.name}}</h4>
        <i class='font-weight-bold'>{{currency item.price}}</i>
      </div>
      <input
        type='number'
        class='ml-auto'
        value={{item.count}}
        {{on 'input' (fn this.updateItemCount item)}}
      />
    </div>
  {{/each}}
  <section class='w-5 ml-auto text-right mb-5'>
    <div class='row'>
      <span class='col'>Subtotal</span>
      <span data-test-subtotal class='col'>{{currency this.subtotal}}</span>
    </div>
    <div class='row'>
      <span class='col'>Tax</span>
      <span data-test-tax class='col'>{{currency this.tax}}</span>
    </div>
    <div class='row'>
      <span class='col'>Total </span>
      <span data-test-total class='col'>{{currency this.total}}</span>
    </div>
  </section>
  <button type='button' class='btn btn-success float-right'>Checkout</button>
</main>